<!DOCTYPE html>
<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>Star Admin2 </title>
  <!-- plugins:css -->
  <link rel="stylesheet" href="/static/assets/admin2/template/vendors/feather/feather.css">
  <link rel="stylesheet" href="/static/assets/admin2/template/vendors/mdi/css/materialdesignicons.min.css">
  <link rel="stylesheet" href="/static/assets/admin2/template/vendors/ti-icons/css/themify-icons.css">
  <link rel="stylesheet" href="/static/assets/admin2/template/vendors/typicons/typicons.css">
  <link rel="stylesheet" href="/static/assets/admin2/template/vendors/simple-line-icons/css/simple-line-icons.css">
  <link rel="stylesheet" href="/static/assets/admin2/template/vendors/css/vendor.bundle.base.css">
  <!-- endinject -->
  <!-- Plugin css for this page -->
  <link rel="stylesheet" href="/static/assets/admin2/template/vendors/datatables.net-bs4/dataTables.bootstrap4.css">
  <link rel="stylesheet" href="/static/assets/admin2/template/js/select.dataTables.min.css">
  <!-- End plugin css for this page -->
  <!-- inject:css -->
  <link rel="stylesheet" href="/static/assets/admin2/template/css/vertical-layout-light/style.css">
  <!-- endinject -->
  <link rel="shortcut icon" href="/static/assets/admin2/template/images/favicon.png" />
</head>
<body>
  <div class="container-scroller">

    <!-- partial:partials/_navbar.html -->
    <nav class="navbar default-layout col-lg-12 col-12 p-0 fixed-top d-flex align-items-top flex-row">
      <div class="text-center navbar-brand-wrapper d-flex align-items-center justify-content-start">
        <div class="me-3">
          <button class="navbar-toggler navbar-toggler align-self-center" type="button" data-bs-toggle="minimize">
            <span class="icon-menu"></span>
          </button>
        </div>
        <div>
          <a class="navbar-brand brand-logo" href="index.html">
            <img src="/static/assets/admin2/template/images/logo.svg" alt="logo" />
          </a>
          <a class="navbar-brand brand-logo-mini" href="index.html">
            <img src="/static/assets/admin2/template/images/logo-mini.svg" alt="logo" />
          </a>
        </div>
      </div>
      <div class="navbar-menu-wrapper d-flex align-items-top">
        <ul class="navbar-nav">
          <li class="nav-item font-weight-semibold d-none d-lg-block ms-0">
            <h1 class="welcome-text">Дашборд мониторинга</h1>
            <h3 class="welcome-sub-text">Параметры кофемашины №1</h3>
          </li>
        </ul>
        <ul class="navbar-nav ms-auto">
          <li class="nav-item dropdown d-none d-lg-block">
            <a class="nav-link dropdown-bordered dropdown-toggle dropdown-toggle-split" id="messageDropdown" href="#" data-bs-toggle="dropdown" aria-expanded="false"> Выберите устройство </a>
            <div class="dropdown-menu dropdown-menu-right navbar-dropdown preview-list pb-0" aria-labelledby="messageDropdown">
              <div class="dropdown-divider"></div>
              <a class="dropdown-item preview-item">
                <div class="preview-item-content flex-grow py-2">
                  <p class="preview-subject ellipsis font-weight-medium text-dark">Устройство №1</p>
                  <p class="fw-light small-text mb-0">Локация: ГК4, 1 этаж</p>
                </div>
              </a>
              <a class="dropdown-item preview-item">
                <div class="preview-item-content flex-grow py-2">
                  <p class="preview-subject ellipsis font-weight-medium text-dark">Устройство №1</p>
                  <p class="fw-light small-text mb-0">Локация: ГК4, 1 этаж</p>
                </div>
              </a>
            </div>
          </li>
          <li class="nav-item d-none d-lg-block">
            <div id="datepicker-popup" class="input-group date datepicker navbar-date-picker">
              <span class="input-group-addon input-group-prepend border-right">
                <span class="icon-calendar input-group-text calendar-icon"></span>
              </span>
              <input type="text" class="form-control">
            </div>
          </li>
          <li class="nav-item">
            <form class="search-form" action="#">
              <i class="icon-search"></i>
              <input type="search" class="form-control" placeholder="Search Here" title="Search here">
            </form>
          </li>

          <li class="nav-item dropdown">
            <a class="nav-link count-indicator" id="countDropdown" href="#" data-bs-toggle="dropdown" aria-expanded="false">
              <i class="icon-bell"></i>
              <span class="count"></span>
            </a>
            <div class="dropdown-menu dropdown-menu-right navbar-dropdown preview-list pb-0" aria-labelledby="countDropdown">
              <a class="dropdown-item py-3">
                <p class="mb-0 font-weight-medium float-left">0 новых уведомлений</p>
                <span class="badge badge-pill badge-primary float-right">Посмотреть все</span>
              </a>
              <div class="dropdown-divider"></div>
              <a class="dropdown-item preview-item">
<!--                <div class="preview-thumbnail">-->
<!--                  <img src="images/faces/face10.jpg" alt="image" class="img-sm profile-pic">-->
<!--                </div>-->
                <div class="preview-item-content flex-grow py-2">
                  <p class="preview-subject ellipsis font-weight-medium text-dark">Тестовое уведомление</p>
                  <p class="fw-light small-text mb-0"> Тестовое описание уведомления </p>
                </div>
              </a>

            </div>
          </li>
          <li class="nav-item dropdown d-none d-lg-block user-dropdown">
            <a class="nav-link" id="UserDropdown" href="#" data-bs-toggle="dropdown" aria-expanded="false">
              Пользователь
            <div class="dropdown-menu dropdown-menu-right navbar-dropdown" aria-labelledby="UserDropdown">
              <div class="dropdown-header text-center">
                <p class="mb-1 mt-3 font-weight-semibold">Имя пользователя</p>
                <p class="fw-light text-muted mb-0">useremail@user.com</p>
              </div>
              <a class="dropdown-item"><i class="dropdown-item-icon mdi mdi-power text-primary me-2"></i>Выход</a>
            </div>
          </li>
        </ul>
        <button class="navbar-toggler navbar-toggler-right d-lg-none align-self-center" type="button" data-bs-toggle="offcanvas">
          <span class="mdi mdi-menu"></span>
        </button>
      </div>
    </nav>
    <!-- partial -->
    <div class="container-fluid page-body-wrapper">
      <!-- partial:partials/_settings-panel.html -->
      <div class="theme-setting-wrapper">
        <div id="settings-trigger"><i class="ti-settings"></i></div>
        <div id="theme-settings" class="settings-panel">
          <i class="settings-close ti-close"></i>
          <p class="settings-heading">Настройки</p>
<!--          <div class="sidebar-bg-options selected" id="sidebar-light-theme"><div class="img-ss rounded-circle bg-light border me-3"></div>Light</div>-->
<!--          <div class="sidebar-bg-options" id="sidebar-dark-theme"><div class="img-ss rounded-circle bg-dark border me-3"></div>Dark</div>-->
<!--          <p class="settings-heading mt-2">HEADER SKINS</p>-->
<!--          <div class="color-tiles mx-0 px-4">-->
<!--            <div class="tiles success"></div>-->
<!--            <div class="tiles warning"></div>-->
<!--            <div class="tiles danger"></div>-->
<!--            <div class="tiles info"></div>-->
<!--            <div class="tiles dark"></div>-->
<!--            <div class="tiles default"></div>-->
<!--          </div>-->
        </div>
      </div>

      <!-- partial -->
      <!-- partial:partials/_sidebar.html -->
      <nav class="sidebar sidebar-offcanvas" id="sidebar">
        <ul class="nav">
          <li class="nav-item">
            <a class="nav-link" href="index.html">
              <i class="mdi mdi-grid-large menu-icon"></i>
              <span class="menu-title">Главная</span>
            </a>
          </li>
          <li class="nav-item nav-category">Отчеты</li>
          <li class="nav-item">
            <a class="nav-link"  href="#ui-basic" aria-controls="ui-basic">
              <i class="menu-icon mdi mdi-floor-plan"></i>
              <span class="menu-title">Сводный отчет</span>
            </a>
          </li>



        </ul>
      </nav>
      <!-- partial -->
      <div class="main-panel">
        <div class="content-wrapper">
          <div class="row">
            <div class="col-sm-12">
              <div class="home-tab">
                <div class="d-sm-flex align-items-center justify-content-between border-bottom">
                  <ul class="nav nav-tabs" role="tablist">
                    <li class="nav-item">
                      <a class="nav-link active ps-0" id="home-tab" data-bs-toggle="tab" href="#overview" role="tab" aria-controls="overview" aria-selected="true">Параметры</a>
                    </li>
                    <li class="nav-item">
                      <a class="nav-link" id="profile-tab" data-bs-toggle="tab" href="#audiences" role="tab" aria-selected="false">События</a>
                    </li>
                    <li class="nav-item">
                      <a class="nav-link border-0" id="contact-tab" data-bs-toggle="tab" href="#demographics" role="tab" aria-selected="false">Уведомления</a>
                    </li>

                  </ul>
                  <div>
                    <div class="btn-wrapper">
                      <a href="#" class="btn btn-primary text-white me-0"><i class="icon-download"></i> Экспорт</a>
                    </div>
                  </div>
                </div>
                <div class="tab-content tab-content-basic">
                  <div class="tab-pane fade show active" id="overview" role="tabpanel" aria-labelledby="overview">
                    <div class="row">
                      <div class="col-sm-12">
                        <div class="statistics-details d-flex align-items-center justify-content-between">
                          <div>
                            <p class="statistics-title">Параметр 1</p>
                            <h3 class="rate-percentage">32.53%</h3>
                            <p class="text-danger d-flex"><i class="mdi mdi-menu-down"></i><span>-0.5%</span></p>
                          </div>
                          <div>
                            <p class="statistics-title">Параметр 2</p>
                            <h3 class="rate-percentage">7,682</h3>
                            <p class="text-success d-flex"><i class="mdi mdi-menu-up"></i><span>+0.1%</span></p>
                          </div>
                          <div>
                            <p class="statistics-title">Параметр 3</p>
                            <h3 class="rate-percentage">68.8</h3>
                            <p class="text-danger d-flex"><i class="mdi mdi-menu-down"></i><span>68.8</span></p>
                          </div>
                          <div class="d-none d-md-block">
                            <p class="statistics-title">Параметр 4</p>
                            <h3 class="rate-percentage">2m:35s</h3>
                            <p class="text-success d-flex"><i class="mdi mdi-menu-down"></i><span>+0.8%</span></p>
                          </div>
                          <div class="d-none d-md-block">
                            <p class="statistics-title">Параметр 5</p>
                            <h3 class="rate-percentage">68.8</h3>
                            <p class="text-danger d-flex"><i class="mdi mdi-menu-down"></i><span>68.8</span></p>
                          </div>
                          <div class="d-none d-md-block">
                            <p class="statistics-title">Параметр 6</p>
                            <h3 class="rate-percentage">2m:35s</h3>
                            <p class="text-success d-flex"><i class="mdi mdi-menu-down"></i><span>+0.8%</span></p>
                          </div>
                        </div>
                      </div>
                    </div>

                  </div>
                </div>


                <div class="row">
                  <div class="col-lg-6 grid-margin stretch-card">
                    <div class="card">
                      <div class="card-body">
                        <h4 class="card-title">Температура</h4>
                        <canvas id="lineChart"></canvas>
                      </div>
                    </div>
                  </div>
                  <div class="col-lg-6 grid-margin stretch-card">
                    <div class="card">
                      <div class="card-body">
                        <h4 class="card-title">Информация</h4>
                        <div>
                          <div id="log" style="max-height: 100px; overflow-y: auto"></div>
                          <br>
                          <form id="form">
                            <label for="text">Input: </label>
                            <input type="text" id="text" autofocus>
                          </form>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>


              </div>
            </div>
          </div>
        </div>
        <!-- content-wrapper ends -->
        <!-- partial:partials/_footer.html -->
        <footer class="footer">
          <div class="d-sm-flex justify-content-center justify-content-sm-between">
            <span class="float-none float-sm-right d-block mt-1 mt-sm-0 text-center">АО Тандер © 2023</span>
          </div>
        </footer>
        <!-- partial -->
      </div>
      <!-- main-panel ends -->
    </div>
    <!-- page-body-wrapper ends -->
  </div>
  <!-- container-scroller -->

  <!-- plugins:js -->
  <script src="/static/assets/admin2/template/vendors/js/vendor.bundle.base.js"></script>
  <!-- endinject -->
  <!-- Plugin js for this page -->
  <script src="/static/assets/admin2/template/vendors/chart.js/Chart.min.js"></script>
  <script src="/static/assets/admin2/template/vendors/bootstrap-datepicker/bootstrap-datepicker.min.js"></script>
  <script src="/static/assets/admin2/template/vendors/progressbar.js/progressbar.min.js"></script>

  <!-- End plugin js for this page -->
  <!-- inject:js -->
  <script src="/static/assets/admin2/template/js/off-canvas.js"></script>
  <script src="/static/assets/admin2/template/js/hoverable-collapse.js"></script>
  <script src="/static/assets/admin2/template/js/template.js"></script>
  <script src="/static/assets/admin2/template/js/settings.js"></script>
  <script src="/static/assets/admin2/template/js/todolist.js"></script>
  <!-- endinject -->
  <!-- Custom js for this page-->
  <script src="/static/assets/admin2/template/js/jquery.cookie.js" type="text/javascript"></script>
  <script src="/static/assets/admin2/template/js/dashboard.js"></script>
  <script src="/static/assets/admin2/template/js/Chart.roundedBarCharts.js"></script>

  <script src="/static/assets/admin2/template/js/chart.js"></script>
  <!-- End custom js for this page-->

  <!--WS Test script!-->
  <script>
<!--    const log = (text, color) => {-->
<!--      // document.getElementById('log').innerHTML += `<span style="color: ${color}">${text}</span><br>`;-->
<!--      document.getElementById('log').insertAdjacentHTML('afterbegin', `<span style="color: ${color}">${text}</span><br>`)-->
<!--    };-->

<!--    const socket = new WebSocket('ws://' + location.host + '/receive/vending1');-->

<!--    socket.addEventListener('message', ev => {-->
<!--      log('<<< ' + ev.data, 'blue');-->
<!--    });-->
<!--    document.getElementById('form').onsubmit = ev => {-->
<!--      ev.preventDefault();-->
<!--      const textField = document.getElementById('text');-->
<!--      log('>>> ' + textField.value, 'red');-->
<!--      socket.send(textField.value);-->
<!--      textField.value = '';-->
<!--    };-->
  </script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/3.0.4/socket.io.js" integrity="sha512-aMGMvNYu8Ue4G+fHa359jcPb1u+ytAF+P2SCb+PxrjCdO3n3ZTxJ30zuH39rimUggmTwmh2u7wvQsDTHESnmfQ==" crossorigin="anonymous"></script>
    <script type="text/javascript" charset="utf-8">
        const log = (text, color) => {
          // document.getElementById('log').innerHTML += `<span style="color: ${color}">${text}</span><br>`;
          document.getElementById('log').insertAdjacentHTML('afterbegin', `<span style="color: ${color}">${text}</span><br>`)
        };

        $(document).ready(function() {
            // Connect to the Socket.IO server.
            // The connection URL has the following format, relative to the current page:
            //     http[s]://<domain>:<port>[/<namespace>]
            var socket = io('http://127.0.0.1:5000');
            const roomName = 'vending1';
            socket.emit('join', {room: roomName});

            socket.on('connect', function() {
                socket.emit('send_socket', {data: 'Connect to socket'});
            });

            socket.on('socket_response', function(msg, cb) {
                log('<<< ' + msg.data, 'blue');
                if (cb)
                    cb();
            });

            document.getElementById('form').onsubmit = ev => {
              ev.preventDefault();
              const textField = document.getElementById('text');
              log('>>> ' + textField.value, 'red');
              //socket.emit('send_broadcast_event', {data: textField.value});
              socket.emit('send_room', {room: roomName, data: textField.value});
              //socket.emit('leave', {room: roomName});
              //socket.emit('close_room', {room: roomName});
              textField.value = '';
              return false;
            };


        });
    </script>
</body>

</html>



<!--<!doctype html>-->
<!--<html>-->
<!--  <head>-->
<!--    <title>Flask-Sock Demo</title>-->
<!--  </head>-->
<!--  <body>-->
<!--    <h1>Flask-Sock Demo</h1>-->
<!--    <div id="log"></div>-->
<!--    <br>-->
<!--    <form id="form">-->
<!--      <label for="text">Input: </label>-->
<!--      <input type="text" id="text" autofocus>-->
<!--    </form>-->

<!--  </body>-->
<!--</html>-->